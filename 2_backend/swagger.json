{
    "swagger": "2.0",
    "info": {
      "description": "Conduit API",
      "version": "1.0.0",
      "title": "Conduit API",
      "contact": {
        "name": "RealWorld",
        "url": "https://realworld.io"
      },
      "license": {
        "name": "MIT License",
        "url": "https://opensource.org/licenses/MIT"
      }
    },
    "host": "localhost:3000",
    "basePath": "/api",
    "schemes": [
      "http"
    ],
    "produces": [
      "application/json"
    ],
    "consumes": [
      "application/json"
    ],
    "securityDefinitions": {
      "Token": {
        "description": "For accessing the protected API resources, you must have received a a valid JWT token after registering or logging in. This JWT token must then be used for all protected resources by passing it in via the 'Authorization' header.\n\nA JWT token is generated by the API by either registering via /users or logging in via /users/login.\n\nThe following format must be in the 'Authorization' header :\n\n    Token: xxxxxx.yyyyyyy.zzzzzz\n    \n",
        "type": "apiKey",
        "name": "Authorization",
        "in": "header"
      }
    },
    "paths": {
      "/users/login": {
        "post": {
          "summary": "Existing user login",
          "description": "Login for existing user",
          "tags": [
            "User and Authentication"
          ],
          "operationId": "Login",
          "parameters": [
            {
              "name": "body",
              "in": "body",
              "required": true,
              "description": "Credentials to use",
              "schema": {
                "$ref": "#/definitions/LoginUserRequest"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/UserResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/users": {
        "post": {
          "summary": "Register a new user",
          "description": "Register a new user",
          "tags": [
            "User and Authentication"
          ],
          "operationId": "CreateUser",
          "parameters": [
            {
              "name": "body",
              "in": "body",
              "required": true,
              "description": "Details of the new user to register",
              "schema": {
                "$ref": "#/definitions/NewUserRequest"
              }
            }
          ],
          "responses": {
            "201": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/UserResponse"
              }
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "get": {
          "summary": "Get current user",
          "description": "Gets the currently logged-in user",
          "tags": [
            "User and Authentication"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "GetCurrentUser",
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/UserResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "put": {
          "summary": "Update current user",
          "description": "Updated user information for current user",
          "tags": [
            "User and Authentication"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "UpdateCurrentUser",
          "parameters": [
            {
              "name": "body",
              "in": "body",
              "required": true,
              "description": "User details to update. At least **one** field is required.",
              "schema": {
                "$ref": "#/definitions/UpdateUserRequest"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/UserResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/profiles/{username}": {
        "get": {
          "summary": "Get a profile",
          "description": "Get a profile of a user of the system. Auth is optional",
          "tags": [
            "Profile"
          ],
          "operationId": "GetProfileByUsername",
          "parameters": [
            {
              "name": "username",
              "in": "path",
              "description": "Username of the profile to get",
              "required": true,
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/ProfileResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/profiles/{username}/follow": {
        "post": {
          "summary": "Follow a user",
          "description": "Follow a user by username",
          "tags": [
            "Profile"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "FollowUserByUsername",
          "parameters": [
            {
              "name": "username",
              "in": "path",
              "description": "Username of the profile you want to follow",
              "required": true,
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/ProfileResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "delete": {
          "summary": "Unfollow a user",
          "description": "Unfollow a user by username",
          "tags": [
            "Profile"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "UnfollowUserByUsername",
          "parameters": [
            {
              "name": "username",
              "in": "path",
              "description": "Username of the profile you want to unfollow",
              "required": true,
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/ProfileResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/series/feed": {
        "get": {
          "summary": "Get recent series from users you follow",
          "description": "Get most recent series from users you follow. Use query parameters to limit. Auth is required",
          "tags": [
            "Series"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "GetSeriesFeed",
          "parameters": [
            {
              "name": "limit",
              "in": "query",
              "description": "Limit number of articles returned (default is 20)",
              "required": false,
              "default": 20,
              "type": "integer"
            },
            {
              "name": "offset",
              "in": "query",
              "description": "Offset/skip number of articles (default is 0)",
              "required": false,
              "default": 0,
              "type": "integer"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/MultipleSeriesResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/series": {
        "get": {
          "summary": "Get recent series globally",
          "description": "Get most recent series globally. Use query parameters to filter results. Auth is optional",
          "tags": [
            "Series"
          ],
          "operationId": "GetSeries",
          "parameters": [
            {
              "name": "tag",
              "in": "query",
              "description": "Filter by tag",
              "required": false,
              "type": "string"
            },
            {
              "name": "author",
              "in": "query",
              "description": "Filter by author (username)",
              "required": false,
              "type": "string"
            },
            {
              "name": "favorited",
              "in": "query",
              "description": "Filter by favorites of a user (username)",
              "required": false,
              "type": "string"
            },
            {
              "name": "limit",
              "in": "query",
              "description": "Limit number of series returned (default is 20)",
              "required": false,
              "default": 20,
              "type": "integer"
            },
            {
              "name": "offset",
              "in": "query",
              "description": "Offset/skip number of articles (default is 0)",
              "required": false,
              "default": 0,
              "type": "integer"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/MultipleSeriesResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "post": {
          "summary": "Create a serie",
          "description": "Create a serie. Auth is required",
          "tags": [
            "Series"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "CreateSerie",
          "parameters": [
            {
              "name": "serie",
              "in": "body",
              "required": true,
              "description": "Serie to create",
              "schema": {
                "$ref": "#/definitions/NewSerieRequest"
              }
            }
          ],
          "responses": {
            "201": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleSerieResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/series/{slug}": {
        "get": {
          "summary": "Get a serie",
          "description": "Get a serie. Auth not required",
          "tags": [
            "Series"
          ],
          "operationId": "GetSerie",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the serie to get",
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleSerieResponse"
              }
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "put": {
          "summary": "Update a serie",
          "description": "Update a serie. Auth is required",
          "tags": [
            "Series"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "UpdateSerie",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the serie to update",
              "type": "string"
            },
            {
              "name": "serie",
              "in": "body",
              "required": true,
              "description": "Serie to update",
              "schema": {
                "$ref": "#/definitions/UpdateSerieRequest"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleSerieResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "delete": {
          "summary": "Delete a serie",
          "description": "Delete a serie. Auth is required",
          "tags": [
            "Series"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "DeleteSerie",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the serie to delete",
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK"
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/series/{slug}/reviews": {
        "get": {
          "summary": "Get reviews for a serie",
          "description": "Get the reviews for a serie. Auth is optional",
          "tags": [
            "Reviews"
          ],
          "operationId": "GetSerieReviews",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the serie that you want to get reviews for",
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/MultipleReviewsResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "post": {
          "summary": "Create a review for a serie",
          "description": "Create a review for a serie. Auth is required",
          "tags": [
            "Reviews"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "CreateSerieReview",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the serie that you want to create a review for",
              "type": "string"
            },
            {
              "name": "review",
              "in": "body",
              "required": true,
              "description": "Review you want to create",
              "schema": {
                "$ref": "#/definitions/NewReviewRequest"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleReviewResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/series/{slug}/reviews/{id}": {
        "delete": {
          "summary": "Delete a review for a serie",
          "description": "Delete a review for a serie. Auth is required",
          "tags": [
            "Reviews"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "DeleteSerieReview",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the serie that you want to delete a review for",
              "type": "string"
            },
            {
              "name": "id",
              "in": "path",
              "required": true,
              "description": "ID of the review you want to delete",
              "type": "integer"
            }
          ],
          "responses": {
            "200": {
              "description": "OK"
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/series/{slug}/favorite": {
        "post": {
          "summary": "Favorite a serie",
          "description": "Favorite a serie. Auth is required",
          "tags": [
            "Favorites"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "CreateSerieFavorite",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the serie that you want to favorite",
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleSerieResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "delete": {
          "summary": "Unfavorite a serie",
          "description": "Unfavorite a serie. Auth is required",
          "tags": [
            "Favorites"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "DeleteSerieFavorite",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the serie that you want to unfavorite",
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleSerieResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/tags": {
        "get": {
          "summary": "Get tags",
          "description": "Get tags. Auth not required",
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/TagsResponse"
              }
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      }
    },
    "definitions": {
      "LoginUser": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string",
            "format": "password"
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "LoginUserRequest": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/definitions/LoginUser"
          }
        },
        "required": [
          "user"
        ]
      },
      "NewUser": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string",
            "format": "password"
          }
        },
        "required": [
          "username",
          "email",
          "password"
        ]
      },
      "NewUserRequest": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/definitions/NewUser"
          }
        },
        "required": [
          "user"
        ]
      },
      "User": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "token": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "bio": {
            "type": "string"
          },
          "image": {
            "type": "string"
          }
        },
        "required": [
          "email",
          "token",
          "username",
          "bio",
          "image"
        ]
      },
      "UserResponse": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/definitions/User"
          }
        },
        "required": [
          "user"
        ]
      },
      "UpdateUser": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "token": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "bio": {
            "type": "string"
          },
          "image": {
            "type": "string"
          }
        }
      },
      "UpdateUserRequest": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/definitions/UpdateUser"
          }
        },
        "required": [
          "user"
        ]
      },
      "ProfileResponse": {
        "type": "object",
        "properties": {
          "profile": {
            "$ref": "#/definitions/Profile"
          }
        },
        "required": [
          "profile"
        ]
      },
      "Profile": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "bio": {
            "type": "string"
          },
          "image": {
            "type": "string"
          },
          "following": {
            "type": "boolean"
          }
        },
        "required": [
          "username",
          "bio",
          "image",
          "following"
        ]
      },
      "TagsResponse": {
        "type": "object",
        "properties": {
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "tags"
        ]
      },
      "SeriesResponse": {
        "type": "object",
        "properties": {
          "series": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "series"
        ]
      },
      "Serie": {
        "type": "object",
        "properties": {
          "slug": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "seasons": {
            "type": "number"
          },
          "image": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "tagList": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "favorited": {
            "type": "boolean"
          },
          "favoritesCount": {
            "type": "integer"
          },
          "author": {
            "$ref": "#/definitions/Profile"
          }
        },
        "required": [
          "slug",
          "title",
          "seasons",
          "image",
          "category",
          "tagList",
          "createdAt",
          "updatedAt",
          "favorited",
          "favoritesCount",
          "author"
        ]
      },
      "NewSerie": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "seasons": {
            "type": "number"
          },
          "image": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "tagList": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "title",
          "seasons",
          "image",
          "category"
        ]
      },
      "NewSerieRequest": {
        "type": "object",
        "properties": {
          "serie": {
            "$ref": "#/definitions/NewSerie"
          }
        },
        "required": [
          "serie"
        ]
      },
      "UpdateSerie": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "seasons": {
            "type": "number"
          },
          "image": {
            "type": "string"
          },
          "category": {
            "type": "string"
          }
        }
      },
      "UpdateSerieRequest": {
        "type": "object",
        "properties": {
          "serie": {
            "$ref": "#/definitions/UpdateSerie"
          }
        },
        "required": [
          "serie"
        ]
      },
      "SingleSerieResponse": {
        "type": "object",
        "properties": {
          "serie": {
            "$ref": "#/definitions/Serie"
          }
        },
        "required": [
          "serie"
        ]
      },
      "MultipleSeriesResponse": {
        "type": "object",
        "properties": {
          "series": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Serie"
            }
          },
          "seriesCount": {
            "type": "integer"
          }
        },
        "required": [
          "series",
          "seriesCount"
        ]
      },
      "Review": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "body": {
            "type": "string"
          },
          "author": {
            "$ref": "#/definitions/Profile"
          }
        },
        "required": [
          "id",
          "createdAt",
          "updatedAt",
          "body",
          "author"
        ]
      },
      "SingleReviewResponse": {
        "type": "object",
        "properties": {
          "review": {
            "$ref": "#/definitions/Review"
          }
        },
        "required": [
          "review"
        ]
      },
      "MultipleReviewsResponse": {
        "type": "object",
        "properties": {
          "reviews": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Review"
            }
          }
        },
        "required": [
          "reviews"
        ]
      },
      "NewReview": {
        "type": "object",
        "properties": {
          "body": {
            "type": "string"
          }
        },
        "required": [
          "body"
        ]
      },
      "NewReviewRequest": {
        "type": "object",
        "properties": {
          "comment": {
            "$ref": "#/definitions/NewReview"
          }
        },
        "required": [
          "review"
        ]
      },
      "GenericErrorModel": {
        "type": "object",
        "properties": {
          "errors": {
            "type": "object",
            "properties": {
              "body": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "required": [
              "body"
            ]
          }
        },
        "required": [
          "errors"
        ]
      }
    }
  }